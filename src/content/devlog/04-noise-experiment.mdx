---
title: "Experiment 04: Noise and the Limits of Cooperation"
date: 2026-02-28
description: "We sweep environmental noise from ε=0 to ε=0.15 across 100 seeds per level. Generous TFT overtakes Tit for Tat immediately at ε=0.01 — but the more important finding is a phase transition near ε=0.10: the cooperative equilibrium completely inverts, and Always Defect and Grudger take first and second place."
tags: ["noise", "robustness", "phase-transition", "generous-tft", "grudger"]
---

import BarChart from "../../components/BarChart.astro";
import { runMany } from "../../lib/engine/stats";
import { allStrategies } from "../../lib/strategies/index";

export const NOISE_LEVELS = [0, 0.01, 0.02, 0.05, 0.10, 0.15];
export const results = NOISE_LEVELS.map(ε => runMany(allStrategies, 200, 100, 0, ε));
export const baseOrder = results[0].stats.map(s => s.name);

export const scoresAt = (ε_idx) => {
  const r = results[ε_idx];
  return baseOrder.map(name => parseFloat(r.stats.find(s => s.name === name).meanScore.toFixed(0)));
};
export const ranksAt = (ε_idx) => {
  const r = results[ε_idx];
  return baseOrder.map(name => parseFloat(r.stats.find(s => s.name === name).meanRank.toFixed(2)));
};

export const finalOrder15 = [...results[5].stats].sort((a,b) => a.meanRank - b.meanRank);

## Research Question

Experiments 01–03 established that nice, retaliatory strategies dominate in clean
environments. But real interactions have noise: miscommunication, implementation
errors, misread signals. When a move is occasionally flipped before the opponent
observes it, strategies that retaliate to *every* defection will trigger conflict
spirals from innocent accidents.

**The prediction from theory:** Generous TFT — which forgives ~33% of defections —
should outperform standard TFT under noise. It was designed for exactly this
environment. The question is: at what noise level does this happen, and what else
changes?

## Methodology

- **Strategies:** All 10 baseline strategies
- **Noise levels:** ε ∈ {0, 0.01, 0.02, 0.05, 0.10, 0.15}
- **Noise model:** At each round, each player's intended move is independently
  flipped (C↔D) with probability ε before the opponent observes it. Both players
  see the flipped move and update their histories accordingly. This is an
  *implementation noise* model — strategies sometimes accidentally play the wrong
  move, and neither player knows which moves were corrupted.
- **Runs per noise level:** 100 independent seeds (seeds 0–99)
- **Rounds per match:** 200
- **Reported metric:** Mean score and mean rank across the 100 seeds
- **Reproducibility:** `runMany(allStrategies, 200, 100, 0, ε)` for each ε

## Results

### Mean Score by Noise Level

<table>
  <thead>
    <tr>
      <th>Strategy</th>
      {NOISE_LEVELS.map(ε => <th key={ε}>ε={ε}</th>)}
    </tr>
  </thead>
  <tbody>
    {baseOrder.map((name, i) => (
      <tr key={name}>
        <td><strong>{name}</strong></td>
        {results.map((r, ri) => {
          const s = r.stats.find(s => s.name === name);
          const score = s.meanScore.toFixed(0);
          const isTop = s.meanRank <= 2;
          const isBot = s.meanRank >= 9;
          return <td key={ri} style={`color: ${isTop ? "var(--green)" : isBot ? "var(--red)" : "var(--text)"}`}>{score}</td>;
        })}
      </tr>
    ))}
  </tbody>
</table>

### Mean Rank by Noise Level (lower = better)

<table>
  <thead>
    <tr>
      <th>Strategy</th>
      {NOISE_LEVELS.map(ε => <th key={ε}>ε={ε}</th>)}
    </tr>
  </thead>
  <tbody>
    {baseOrder.map((name) => (
      <tr key={name}>
        <td><strong>{name}</strong></td>
        {results.map((r, ri) => {
          const s = r.stats.find(s => s.name === name);
          const rank = s.meanRank.toFixed(2);
          const isTop = s.meanRank <= 2;
          const isBot = s.meanRank >= 9;
          return <td key={ri} style={`color: ${isTop ? "var(--green)" : isBot ? "var(--red)" : "var(--text)"}`}>{rank}</td>;
        })}
      </tr>
    ))}
  </tbody>
</table>

### Final Rankings at ε=0.15

<BarChart
  labels={finalOrder15.map(s => s.name)}
  values={finalOrder15.map(s => parseFloat(s.meanScore.toFixed(0)))}
  height="280px"
/>

## Analysis

### 1. The GenTFT crossover is real — and immediate

The theoretical prediction is confirmed: Generous TFT overtakes Tit for Tat as
soon as any noise is introduced. At ε=0.01, TFT falls from rank 2.53 to rank 4.13,
while Generous TFT improves from 2.43 to 1.97 (best in field).

The mechanism is exactly as theory predicts. TFT retaliates after every defection,
including accidental ones from noise. When TFT plays TFT and a noise event flips one
move to D, both see the other "defect" and enter a mutual retaliation spiral that
takes many rounds to escape (if ever). Generous TFT absorbs one of these spirals
roughly one-third of the time, breaking the conflict and restoring cooperation.

**However, the crossover is not monotonic.** Generous TFT's advantage is strongest
at ε=0.01–0.02 (rank ≈1.8–2.0) and degrades at higher noise. By ε=0.10, TFT
(rank 3.92) outperforms Generous TFT (rank 5.60). GenTFT's 33% forgiveness rate
is calibrated for *occasional* accidents — not for environments where 10–15% of all
moves are corrupted.

### 2. A phase transition near ε ≈ 0.10

The most surprising finding is not the GenTFT crossover but a **phase transition
in the cooperative equilibrium** at high noise.

At ε=0.15:

<table>
  <thead>
    <tr><th>Rank</th><th>Strategy</th><th>Mean Score</th><th>Mean Rank</th></tr>
  </thead>
  <tbody>
    {finalOrder15.map((s, i) => (
      <tr key={s.name}>
        <td>{i + 1}</td>
        <td><strong>{s.name}</strong></td>
        <td>{s.meanScore.toFixed(0)}</td>
        <td style={`color: ${s.meanRank <= 3 ? "var(--green)" : s.meanRank >= 8 ? "var(--red)" : "var(--text)"}`}>{s.meanRank.toFixed(2)}</td>
      </tr>
    ))}
  </tbody>
</table>

This is a near-complete inversion of the ε=0 ranking. Always Defect (last at ε=0)
is first at ε=0.15. Grudger (6th at ε=0) is second. The entire top-5 from the
clean tournament has collapsed into the bottom half.

**Why does this happen?** At ε=0.15, approximately 15% of all moves are randomly
flipped. This means that even strategies intending to cooperate will *appear* to
defect frequently to their opponents. Cooperative strategies get locked into
repeated retaliation cycles they never intended. In this environment, the average
interaction looks like noise-driven chaos with occasional DD outcomes — and
strategies that cooperate continue to take sucker payoffs (0) from noise-D events
while receiving nothing in return.

Strategies that simply defect unconditionally — or that switch to unconditional
defection after a single noise-triggered event (Grudger) — avoid this trap. They
pay the cost of never building cooperation, but in an environment too noisy to
sustain cooperation anyway, that cost is offset by consistency. Always Defect
never accidentally cooperates (and receives 0), while Always Cooperate never
accidentally defects (and therefore cannot threaten). In high-noise chaos, the
ability to *exploit* the opponent's confusion is more valuable than any cooperative
rule.

### 3. Grudger: from mediocre to first

Grudger finishes 6th at ε=0 and 2nd at ε=0.15. Its trajectory is non-monotonic:
it worsens sharply at ε=0.01 (rank 8.38) as noise-triggered permanent retaliation
destroys its cooperative relationships — and then improves steadily as noise
increases, because in a high-noise environment, "cooperate until first defection,
then always defect" is approximately equivalent to "always defect after round 1 or
2" (the expected time to first noise event at ε=0.15 is only ~7 rounds).

Grudger at high noise is not adapting — it is accidentally becoming Always Defect,
and Always Defect happens to be the right strategy in that regime.

### 4. ZD Extorter: unexpectedly noise-resilient

ZD Extorter starts at rank 7.00 (ε=0) and remains between rank 3.01 and 4.44
across all noise levels tested. This stability is not what round-robin performance
would suggest. The explanation lies in ZD's inherently probabilistic nature: its
cooperation probabilities (CC:8/9, CD:0, DC:1, DD:1/9) already embed uncertainty.
In a noisy environment, ZD's *intended* distribution of moves is not meaningfully
disrupted by added noise the way deterministic strategies' patterns are. Its
relative performance improves as deterministic cooperative strategies collapse.

### 5. Tit for Two Tats: robust at medium noise, brittle at high noise

TF2T dominated the clean tournament (rank 1.04 at ε=0) and remains in the top-3
at ε=0.01–0.05, thanks to its two-defection threshold. But at ε≥0.10, two-move
windows fill with noise events and TF2T cannot distinguish genuine exploitation
from coincidence. By ε=0.15 it ranks 7.89 — worse than Always Defect.

### Summary: the noise regimes

| Noise level | Regime | Who wins |
|---|---|---|
| ε = 0 | Clean | TFT variants (TF2T, GenTFT, TFT) |
| ε = 0.01–0.02 | Low noise | Generous TFT, TF2T — forgiveness is optimal |
| ε = 0.05 | Medium noise | Transition; TF2T, Pavlov, ZD competitive |
| ε = 0.10 | High noise | Chaos; no clear cooperative winner |
| ε = 0.15 | Very high noise | Always Defect, Grudger — defection wins |

## Conclusions

1. **The GenTFT crossover is confirmed at ε=0.01.** One unit of noise is enough
   to make forgiveness pay. GenTFT's advantage window is ε=0.01–0.05.

2. **There is a phase transition in the IPD at high noise.** Below ε≈0.05
   cooperative strategies dominate; above ε≈0.10 they collapse and unconditional
   or early-locking defectors take the lead. This transition was not predicted from
   the ε=0 analysis and is the most important finding of this experiment.

3. **"Robust cooperation" is a narrow regime.** The strategies that excel in a
   clean environment (TFT family) are not robust beyond ε≈0.05. Designing a
   strategy that works across the full noise range is a genuinely hard problem.

4. **Grudger at high noise is essentially Always Defect.** Its apparent "recovery"
   at high ε is an artifact of permanently locking into defection after an early
   noise event — not of any adaptive mechanism.

5. **ZD Extorter is the most noise-stable strategy tested.** Its rank variance
   across noise levels is lower than any other strategy. This warrants further
   investigation.

## Next Steps

Two high-priority questions emerge from this experiment:

- **Evolutionary dynamics under noise.** E-003 showed that defectors go extinct
  in a clean population. Does this hold at ε=0.05? Does the phase transition
  observed in round-robin also appear as an evolutionary regime change — a noise
  level at which cooperators can no longer invade a defecting population?

- **Contrite TFT.** The standard theoretical response to noise is not Generous TFT
  but *Contrite TFT* — a strategy that cooperates, retaliates, but then *apologises*
  if it was the one who defected last (even accidentally). Theory suggests it
  should outperform both TFT and GenTFT across a wider noise range. Let's test it.
